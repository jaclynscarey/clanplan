{% extends 'base.html' %}

{% block content %}

<br><br>
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url 'index' %}">Events</a></li>
    {% if object %}
    <li class="breadcrumb-item"><a href="{% url 'detail' object.id %}">{{ event.title }}</a></li>
    <li class="breadcrumb-item active">Edit {{ event.title }}</li>
    {% else %}
    <li class="breadcrumb-item active">New Event</li>
    {% endif %}
</ol>

<div class=" mx-5">
    <form method="POST" action="{% url 'events_create' %}">
        <fieldset>
            <legend>Create New Event</legend>
            {% csrf_token %}
    
            <div class="form-group">
                <label for="{{ form.title.id_for_label }}" class="form-label mt-4">Title:</label>
                {{ form.title }}
            </div>
            
            <div class="form-group">
                <label for="{{ form.description.id_for_label }}" class="form-label mt-4">Description:</label>
                {{ form.description }}
            </div>
    
            <div class="form-group ">
                <label for="{{ form.date.id_for_label }}" class="form-label mt-4">Date:</label>
                {{ form.date }}
            </div>
    
            <div class="form-group ">
                <label for="{{ form.time.id_for_label }}" class="form-label mt-4">Time:</label>
                {{ form.time }}
            </div>
            
            <div class="form-group ">
                <label for="{{ form.location.id_for_label }}" class="form-label mt-4">Location:</label>
                {{ form.location }}
            </div>
    
            <div class="form-group ">
                <label for="{{ form.attendees.id_for_label }}" class="form-label mt-4">Attendees:</label>
                {{ form.attendees }}
            </div>
            <br>
            <button class="btn btn-primary" type="submit">{% if object %} Update Event {% else %} Add Event {% endif %}</button>
        </fieldset>
    </form>
</div>


<script>
    const selectEl = document.getElementById("id_attendees");
    selectEl.setAttribute("class", "form-select");

    const textareaEl = document.getElementById("id_description");
    textareaEl.setAttribute("class", "form-control");
    textareaEl.setAttribute("rows", "3");

    const titleEl = document.getElementById("id_title");
    titleEl.setAttribute("class", "form-control");

    const dateEl = document.getElementById("id_date");
    dateEl.setAttribute("class", "form-control");

    const timeEl = document.getElementById("id_time");
    timeEl.setAttribute("class", "form-control");

    const locationEl = document.getElementById("id_location");
    locationEl.setAttribute("class", "form-control");

</script>
{% endblock %}