{% extends 'base.html' %}

{% block content %}

    {% if object %}
        <h1>Edit <span class="teal-text">"{{object.title}}"</span></h1>
    {% else %}
        <h1>New Event</h1>
    {% endif %}

<form method="post">
    {% csrf_token %}
    <table>
        {{ form.as_table }}
    </table>
    <button type="submit">{% if object %} Update Event {% else %} Add Event {% endif %}</button>
</form>

<script>
    const dateEl = document.getElementById('id_date');
    const timeEl = document.getElementById('id_time');
    M.Datepicker.init(dateEl, {
        format: 'mmm dd, yyyy',
        defaultDate: new Date(),
        setDefaultDate: true,
        autoClose: true
    });
    M.Timepicker.init(timeEl, {
        defaultTime: 'now',
        twelveHour: false,
        autoClose: true
    });
</script>

{% endblock %}